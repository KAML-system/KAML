<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุณุฌูู ุนุถููุฉ ุฌุฏูุฏุฉ - ุงูุฌูุนูุฉ ุงููููุชูุฉ ูููุฎุชุจุฑุงุช ุงูุทุจูุฉ</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .logo-container {
            margin-bottom: 20px;
        }

        .logo-container img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid white;
            background: white;
            padding: 5px;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header h2 {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 300;
        }

        .form-container {
            padding: 40px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #28a745;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .required {
            color: #dc3545;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-group input[type="file"] {
            padding: 8px 12px;
            background: #f8f9fa;
            border: 2px dashed #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-group input[type="file"]:hover {
            border-color: #28a745;
            background: #f0fff4;
        }

        .form-group input[type="file"]:focus {
            outline: none;
            border-color: #28a745;
            background: white;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }

        .name-group {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        .phone-input {
            position: relative;
        }

        .phone-prefix {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #28a745;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .phone-input input {
            padding-left: 80px;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-top: 4px;
        }

        .checkbox-group label {
            margin-bottom: 0;
            font-weight: 400;
            line-height: 1.5;
        }

        .submit-button {
            width: 100%;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .submit-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .back-link {
            text-align: center;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid #e9ecef;
        }

        .back-link a {
            color: #28a745;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .back-link a:hover {
            color: #1e7e34;
            text-decoration: underline;
        }

        .success-message {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .error-message {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #28a745;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .name-group {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .form-container {
                padding: 30px 20px;
            }

            .header {
                padding: 25px 20px;
            }

            .header h1 {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-container">
                <img src="logo.jpeg" alt="ุดุนุงุฑ ุงูุฌูุนูุฉ ุงููููุชูุฉ ูููุฎุชุจุฑุงุช ุงูุทุจูุฉ">
            </div>
            <h1>ุชุณุฌูู ุนุถููุฉ ุฌุฏูุฏุฉ</h1>
            <h2>ุงูุฌูุนูุฉ ุงููููุชูุฉ ูููุฎุชุจุฑุงุช ุงูุทุจูุฉ</h2>
        </div>

        <div class="form-container">
            <div class="success-message" id="successMessage">
                โ ุชู ุฅุฑุณุงู ุทูุจ ุงูุนุถููุฉ ุจูุฌุงุญ! ุณูุชู ูุฑุงุฌุนุชู ูู ูุจู ุงูุฅุฏุงุฑุฉ ูุฅุดุนุงุฑู ุจุงููุชูุฌุฉ.
            </div>

            <div class="error-message" id="errorMessage">
                โ ูุฑุฌู ุงูุชุฃูุฏ ูู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ ุจุดูู ุตุญูุญ.
            </div>

            <div class="loading-spinner" id="loadingSpinner">
                <div class="spinner"></div>
                <p>ุฌุงุฑู ุญูุธ ุงูุจูุงูุงุช...</p>
            </div>

            <form id="membershipForm">
                <!-- ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ -->
                <div class="section-title">
                    ๐ค ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
                </div>

                <!-- ุงูุงุณู ุงูุซูุงุซู ุจุงูุนุฑุจูุฉ -->
                <div class="form-group full-width">
                    <label>ุงูุงุณู ุงูุซูุงุซู (ุจุงูุนุฑุจูุฉ) <span class="required">*</span></label>
                    <div class="name-group">
                        <input type="text" id="first_name_ar" name="first_name_ar" placeholder="ุงูุงุณู ุงูุฃูู" required>
                        <input type="text" id="middle_name_ar" name="middle_name_ar" placeholder="ุงุณู ุงูุฃุจ" required>
                        <input type="text" id="last_name_ar" name="last_name_ar" placeholder="ุงุณู ุงูุนุงุฆูุฉ" required>
                    </div>
                </div>

                <!-- ุงูุงุณู ุงูุซูุงุซู ุจุงูุฅูุฌููุฒูุฉ -->
                <div class="form-group full-width">
                    <label>ุงูุงุณู ุงูุซูุงุซู (ุจุงูุฅูุฌููุฒูุฉ) <span class="required">*</span></label>
                    <div class="name-group">
                        <input type="text" id="first_name_en" name="first_name_en" placeholder="First Name" required>
                        <input type="text" id="middle_name_en" name="middle_name_en" placeholder="Father Name" required>
                        <input type="text" id="last_name_en" name="last_name_en" placeholder="Last Name" required>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="nationality">ุงูุฌูุณูุฉ <span class="required">*</span></label>
                        <select id="nationality" name="nationality" required>
                            <option value="">ุงุฎุชุฑ ุงูุฌูุณูุฉ</option>
                            <option value="ูููุชู">ูููุชู</option>
                            <option value="ุณุนูุฏู">ุณุนูุฏู</option>
                            <option value="ุฅูุงุฑุงุชู">ุฅูุงุฑุงุชู</option>
                            <option value="ูุทุฑู">ูุทุฑู</option>
                            <option value="ุจุญุฑููู">ุจุญุฑููู</option>
                            <option value="ุนูุงูู">ุนูุงูู</option>
                            <option value="ูุตุฑู">ูุตุฑู</option>
                            <option value="ุฃุฑุฏูู">ุฃุฑุฏูู</option>
                            <option value="ูุจูุงูู">ูุจูุงูู</option>
                            <option value="ุณูุฑู">ุณูุฑู</option>
                            <option value="ููุณุทููู">ููุณุทููู</option>
                            <option value="ุนุฑุงูู">ุนุฑุงูู</option>
                            <option value="ูููู">ูููู</option>
                            <option value="ุณูุฏุงูู">ุณูุฏุงูู</option>
                            <option value="ูุบุฑุจู">ูุบุฑุจู</option>
                            <option value="ุชููุณู">ุชููุณู</option>
                            <option value="ุฌุฒุงุฆุฑู">ุฌุฒุงุฆุฑู</option>
                            <option value="ููุจู">ููุจู</option>
                            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="civil_id">ุงูุฑูู ุงููุฏูู <span class="required">*</span></label>
                        <input type="text" id="civil_id" name="civil_id" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููุฏูู (12 ุฑูู)" maxlength="12" pattern="[0-9]{12}" required>
                    </div>

                    <div class="form-group">
                        <label for="birth_date">ุชุงุฑูุฎ ุงููููุงุฏ <span class="required">*</span></label>
                        <input type="date" id="birth_date" name="birth_date" required>
                    </div>

                    <div class="form-group">
                        <label for="gender">ุงูุฌูุณ <span class="required">*</span></label>
                        <select id="gender" name="gender" required>
                            <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                            <option value="ุฐูุฑ">ุฐูุฑ</option>
                            <option value="ุฃูุซู">ุฃูุซู</option>
                        </select>
                    </div>
                </div>

                <!-- ูุนูููุงุช ุงูุงุชุตุงู -->
                <div class="section-title">
                    ๐ ูุนูููุงุช ุงูุงุชุตุงู
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู <span class="required">*</span></label>
                        <input type="email" id="email" name="email" placeholder="example@email.com" required>
                        <div id="emailValidation" style="margin-top: 5px; font-size: 12px; display: none;"></div>
                    </div>

                    <div class="form-group">
                        <label for="phone">ุฑูู ุงููุงุชู <span class="required">*</span></label>
                        <div class="phone-input">
                            <span class="phone-prefix">+965</span>
                            <input type="tel" id="phone" name="phone" placeholder="12345678" maxlength="8" pattern="[0-9]{8}" required>
                        </div>
                    </div>
                </div>

                <div class="form-group full-width">
                    <label for="address">ุงูููุทูุฉ <span class="required">*</span></label>
                    <select id="address" name="address" required>
                        <option value="">ุงุฎุชุฑ ุงูููุทูุฉ</option>
                        <option value="ุงูุนุงุตูุฉ">ุงูุนุงุตูุฉ</option>
                        <option value="ุญููู">ุญููู</option>
                        <option value="ุงููุฑูุงููุฉ">ุงููุฑูุงููุฉ</option>
                        <option value="ูุจุงุฑู ุงููุจูุฑ">ูุจุงุฑู ุงููุจูุฑ</option>
                        <option value="ุงูุฃุญูุฏู">ุงูุฃุญูุฏู</option>
                        <option value="ุงูุฌูุฑุงุก">ุงูุฌูุฑุงุก</option>
                        <option value="ุงููููุช">ุงููููุช</option>
                        <option value="ุงูุณุงูููุฉ">ุงูุณุงูููุฉ</option>
                        <option value="ุงูุฌุงุจุฑูุฉ">ุงูุฌุงุจุฑูุฉ</option>
                        <option value="ุจูุงู">ุจูุงู</option>
                        <option value="ุงููููู">ุงููููู</option>
                        <option value="ุงูููุทุงุณ">ุงูููุทุงุณ</option>
                        <option value="ุงูููุจููุฉ">ุงูููุจููุฉ</option>
                        <option value="ุงููุญูุญูู">ุงููุญูุญูู</option>
                        <option value="ุตุจุงุญ ุงูุฃุญูุฏ">ุตุจุงุญ ุงูุฃุญูุฏ</option>
                        <option value="ุฌุงุจุฑ ุงูุฃุญูุฏ">ุฌุงุจุฑ ุงูุฃุญูุฏ</option>
                        <option value="ุตุจุงุญ ุงููุงุตุฑ">ุตุจุงุญ ุงููุงุตุฑ</option>
                        <option value="ุงูุตููุจูุฎุงุช">ุงูุตููุจูุฎุงุช</option>
                        <option value="ุงูุฏูุญุฉ">ุงูุฏูุญุฉ</option>
                        <option value="ุงูุฑูุฉ">ุงูุฑูุฉ</option>
                        <option value="ูููุงู">ูููุงู</option>
                        <option value="ุงูุดุงููุฉ">ุงูุดุงููุฉ</option>
                        <option value="ุงูุดููุฎ">ุงูุดููุฎ</option>
                        <option value="ุงูุฏุนูุฉ">ุงูุฏุนูุฉ</option>
                        <option value="ุงููุฒูุฉ">ุงููุฒูุฉ</option>
                        <option value="ุงููุฑููู">ุงููุฑููู</option>
                        <option value="ุงููุงุฏุณูุฉ">ุงููุงุฏุณูุฉ</option>
                        <option value="ูููุงู">ูููุงู</option>
                        <option value="ุงูุฎุงูุฏูุฉ">ุงูุฎุงูุฏูุฉ</option>
                        <option value="ุงูุฑูุถุฉ">ุงูุฑูุถุฉ</option>
                        <option value="ุงูุนุฏูููุฉ">ุงูุนุฏูููุฉ</option>
                        <option value="ูุฑุทุจุฉ">ูุฑุทุจุฉ</option>
                        <option value="ุงูุฒูุฑุงุก">ุงูุฒูุฑุงุก</option>
                        <option value="ุงูููุญุงุก">ุงูููุญุงุก</option>
                        <option value="ุงูุฑููุซูุฉ">ุงูุฑููุซูุฉ</option>
                        <option value="ุจููุฏ ุงููุงุฑ">ุจููุฏ ุงููุงุฑ</option>
                        <option value="ูุดุฑู">ูุดุฑู</option>
                        <option value="ุงูุดุนุจ">ุงูุดุนุจ</option>
                        <option value="ุงูุฏุณูุฉ">ุงูุฏุณูุฉ</option>
                        <option value="ุฏุณูุงู">ุฏุณูุงู</option>
                        <option value="ุงูุตูุงุจุฑ">ุงูุตูุงุจุฑ</option>
                        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                    </select>
                </div>

                <!-- ุงููุคููุงุช ุงูููููุฉ -->
                <div class="section-title">
                    ๐ ุงููุคููุงุช ุงูููููุฉ
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="qualification">ุงููุคูู ุงูุนููู <span class="required">*</span></label>
                        <select id="qualification" name="qualification" required>
                            <option value="">ุงุฎุชุฑ ุงููุคูู ุงูุนููู</option>
                            <option value="ุฏุจููู">ุฏุจููู</option>
                            <option value="ุจูุงููุฑููุณ">ุจูุงููุฑููุณ</option>
                            <option value="ูุงุฌุณุชูุฑ">ูุงุฌุณุชูุฑ</option>
                            <option value="ุฏูุชูุฑุงู">ุฏูุชูุฑุงู</option>
                            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="specialization">ุงูุชุฎุตุต <span class="required">*</span></label>
                        <select id="specialization" name="specialization" required>
                            <option value="">ุฃุฏุฎู ุงูุชุฎุตุต</option>
                            <option value="ุชูููุฉ ุงููุฎุชุจุฑุงุช ุงูุทุจูุฉ">ุชูููุฉ ุงููุฎุชุจุฑุงุช ุงูุทุจูุฉ</option>
                            <option value="ุนููู ุงููุฎุชุจุฑุงุช ุงูุฅูููููููุฉ">ุนููู ุงููุฎุชุจุฑุงุช ุงูุฅูููููููุฉ</option>
                            <option value="ุงูุฃุญูุงุก ุงูุฏูููุฉ ุงูุทุจูุฉ">ุงูุฃุญูุงุก ุงูุฏูููุฉ ุงูุทุจูุฉ</option>
                            <option value="ุงูููููุงุก ุงูุญูููุฉ ุงูุทุจูุฉ">ุงูููููุงุก ุงูุญูููุฉ ุงูุทุจูุฉ</option>
                            <option value="ุฃูุฑุงุถ ุงูุฏู">ุฃูุฑุงุถ ุงูุฏู</option>
                            <option value="ุนูู ุงูุฃูุณุฌุฉ">ุนูู ุงูุฃูุณุฌุฉ</option>
                            <option value="ุนูู ุงูุฎูุงูุง">ุนูู ุงูุฎูุงูุง</option>
                            <option value="ุงูููุงุนุฉ ุงูุทุจูุฉ">ุงูููุงุนุฉ ุงูุทุจูุฉ</option>
                            <option value="ุงูุทููููุงุช ุงูุทุจูุฉ">ุงูุทููููุงุช ุงูุทุจูุฉ</option>
                            <option value="ุงููุฑุงุซุฉ ุงูุทุจูุฉ">ุงููุฑุงุซุฉ ุงูุทุจูุฉ</option>
                            <option value="ุงูุทุจ ุงููููู">ุงูุทุจ ุงููููู</option>
                            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="workplace">ุฌูุฉ ุงูุนูู <span class="required">*</span></label>
                        <select id="workplace" name="workplace" required>
                            <option value="">ุงุฎุชุฑ ุฌูุฉ ุงูุนูู</option>
                            <option value="ูุฒุงุฑุฉ ุงูุตุญุฉ">ูุฒุงุฑุฉ ุงูุตุญุฉ</option>
                            <option value="ูุฒุงุฑุฉ ุงูุฏูุงุน">ูุฒุงุฑุฉ ุงูุฏูุงุน</option>
                            <option value="ูุฒุงุฑุฉ ุงูุฏุงุฎููุฉ">ูุฒุงุฑุฉ ุงูุฏุงุฎููุฉ</option>
                            <option value="ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ">ูุฒุงุฑุฉ ุงูุชุฑุจูุฉ</option>
                            <option value="ูุฒุงุฑุฉ ุงูุชุนููู ุงูุนุงูู">ูุฒุงุฑุฉ ุงูุชุนููู ุงูุนุงูู</option>
                            <option value="ูุคุณุณุฉ ุงูุจุชุฑูู ุงููููุชูุฉ">ูุคุณุณุฉ ุงูุจุชุฑูู ุงููููุชูุฉ</option>
                            <option value="ุงูููุฆุฉ ุงูุนุงูุฉ ููุชุนููู ุงูุชุทุจููู">ุงูููุฆุฉ ุงูุนุงูุฉ ููุชุนููู ุงูุชุทุจููู</option>
                            <option value="ุฌุงูุนุฉ ุงููููุช">ุฌุงูุนุฉ ุงููููุช</option>
                            <option value="ูุณุชุดูู ุงูุฃููุฑู">ูุณุชุดูู ุงูุฃููุฑู</option>
                            <option value="ูุณุชุดูู ูุจุงุฑู ุงููุจูุฑ">ูุณุชุดูู ูุจุงุฑู ุงููุจูุฑ</option>
                            <option value="ูุณุชุดูู ุงููุฑูุงููุฉ">ูุณุชุดูู ุงููุฑูุงููุฉ</option>
                            <option value="ูุณุชุดูู ุงูุฌูุฑุงุก">ูุณุชุดูู ุงูุฌูุฑุงุก</option>
                            <option value="ูุณุชุดูู ุงูุฃุญูุฏู">ูุณุชุดูู ุงูุฃุญูุฏู</option>
                            <option value="ูุณุชุดูู ุงูุตุจุงุญ">ูุณุชุดูู ุงูุตุจุงุญ</option>
                            <option value="ูุณุชุดูู ุฏุณูุงู ููุณูุฑู">ูุณุชุดูู ุฏุณูุงู ููุณูุฑู</option>
                            <option value="ูุนูุฏ ุงููููุช ููุฃุจุญุงุซ ุงูุนูููุฉ">ูุนูุฏ ุงููููุช ููุฃุจุญุงุซ ุงูุนูููุฉ</option>
                            <option value="ุงููุทุงุน ุงูุฎุงุต">ุงููุทุงุน ุงูุฎุงุต</option>
                            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="job_title">ุงููุณูู ุงููุธููู <span class="required">*</span></label>
                        <select id="job_title" name="job_title" required>
                            <option value="">ุฃุฏุฎู ุงููุณูู ุงููุธููู</option>
                            
                            <!-- ูููู ุงููุฎุชุจุฑุงุช -->
                            <optgroup label="ูููู ุงููุฎุชุจุฑุงุช">
                                <option value="ููู ูุฎุชุจุฑ">ููู ูุฎุชุจุฑ</option>
                                <option value="ููู ูุฎุชุจุฑ ุฃูู">ููู ูุฎุชุจุฑ ุฃูู</option>
                                <option value="ููู ูุฎุชุจุฑ ุฑุฆูุณู">ููู ูุฎุชุจุฑ ุฑุฆูุณู</option>
                                <option value="ููู ูุฎุชุจุฑ ูุชุฎุตุต">ููู ูุฎุชุจุฑ ูุชุฎุตุต</option>
                                <option value="ููู ูุฎุชุจุฑ ุฎุจูุฑ">ููู ูุฎุชุจุฑ ุฎุจูุฑ</option>
                            </optgroup>
                            
                            <!-- ุฃุฎุตุงุฆูู ุงููุฎุชุจุฑุงุช -->
                            <optgroup label="ุฃุฎุตุงุฆูู ุงููุฎุชุจุฑุงุช">
                                <option value="ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช">ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช</option>
                                <option value="ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุฃูู">ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุฃูู</option>
                                <option value="ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุฑุฆูุณู">ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุฑุฆูุณู</option>
                                <option value="ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุงุณุชุดุงุฑู">ุฃุฎุตุงุฆู ูุฎุชุจุฑุงุช ุงุณุชุดุงุฑู</option>
                                <option value="ุฃุฎุตุงุฆู ุฃุญูุงุก ุฏูููุฉ">ุฃุฎุตุงุฆู ุฃุญูุงุก ุฏูููุฉ</option>
                                <option value="ุฃุฎุตุงุฆู ููููุงุก ุญูููุฉ">ุฃุฎุตุงุฆู ููููุงุก ุญูููุฉ</option>
                                <option value="ุฃุฎุตุงุฆู ุฃูุฑุงุถ ุฏู">ุฃุฎุตุงุฆู ุฃูุฑุงุถ ุฏู</option>
                                <option value="ุฃุฎุตุงุฆู ุฃูุณุฌุฉ">ุฃุฎุตุงุฆู ุฃูุณุฌุฉ</option>
                                <option value="ุฃุฎุตุงุฆู ุฎูุงูุง">ุฃุฎุตุงุฆู ุฎูุงูุง</option>
                                <option value="ุฃุฎุตุงุฆู ููุงุนุฉ">ุฃุฎุตุงุฆู ููุงุนุฉ</option>
                                <option value="ุฃุฎุตุงุฆู ุทููููุงุช">ุฃุฎุตุงุฆู ุทููููุงุช</option>
                                <option value="ุฃุฎุตุงุฆู ูุฑุงุซุฉ ุทุจูุฉ">ุฃุฎุตุงุฆู ูุฑุงุซุฉ ุทุจูุฉ</option>
                                <option value="ุฃุฎุตุงุฆู ุทุจ ูููู">ุฃุฎุตุงุฆู ุทุจ ูููู</option>
                            </optgroup>
                            
                            <!-- ูุงุตุฏู ุงูุฏู -->
                            <optgroup label="ูุงุตุฏู ุงูุฏู">
                                <option value="ูุงุตุฏ ุฏู">ูุงุตุฏ ุฏู</option>
                                <option value="ูุงุตุฏ ุฏู ุฃูู">ูุงุตุฏ ุฏู ุฃูู</option>
                                <option value="ูุงุตุฏ ุฏู ุฑุฆูุณู">ูุงุตุฏ ุฏู ุฑุฆูุณู</option>
                                <option value="ูุงุตุฏ ุฏู ูุชุฎุตุต">ูุงุตุฏ ุฏู ูุชุฎุตุต</option>
                                <option value="ูุงุตุฏ ุฏู ุฎุจูุฑ">ูุงุตุฏ ุฏู ุฎุจูุฑ</option>
                                <option value="ูุดุฑู ูุงุตุฏู ุฏู">ูุดุฑู ูุงุตุฏู ุฏู</option>
                            </optgroup>
                            
                            <!-- ุงูุฅุฏุงุฑุฉ ูุงูุฅุดุฑุงู -->
                            <optgroup label="ุงูุฅุฏุงุฑุฉ ูุงูุฅุดุฑุงู">
                                <option value="ูุดุฑู ูุฎุชุจุฑ">ูุดุฑู ูุฎุชุจุฑ</option>
                                <option value="ุฑุฆูุณ ูุณู ูุฎุชุจุฑุงุช">ุฑุฆูุณ ูุณู ูุฎุชุจุฑุงุช</option>
                                <option value="ูุฏูุฑ ูุฎุชุจุฑ">ูุฏูุฑ ูุฎุชุจุฑ</option>
                                <option value="ูุฏูุฑ ุฅุฏุงุฑุฉ ูุฎุชุจุฑุงุช">ูุฏูุฑ ุฅุฏุงุฑุฉ ูุฎุชุจุฑุงุช</option>
                                <option value="ูุณุงุนุฏ ูุฏูุฑ ูุฎุชุจุฑุงุช">ูุณุงุนุฏ ูุฏูุฑ ูุฎุชุจุฑุงุช</option>
                                <option value="ููุณู ูุฎุชุจุฑุงุช">ููุณู ูุฎุชุจุฑุงุช</option>
                                <option value="ูุฑุงูุจ ุฌูุฏุฉ ูุฎุชุจุฑุงุช">ูุฑุงูุจ ุฌูุฏุฉ ูุฎุชุจุฑุงุช</option>
                            </optgroup>
                            
                            <!-- ุงูุงุณุชุดุงุฑููู ูุงูุฃุทุจุงุก -->
                            <optgroup label="ุงูุงุณุชุดุงุฑููู ูุงูุฃุทุจุงุก">
                                <option value="ุงุณุชุดุงุฑู ูุฎุชุจุฑุงุช">ุงุณุชุดุงุฑู ูุฎุชุจุฑุงุช</option>
                                <option value="ุงุณุชุดุงุฑู ุฃูุฑุงุถ ุฏู">ุงุณุชุดุงุฑู ุฃูุฑุงุถ ุฏู</option>
                                <option value="ุงุณุชุดุงุฑู ุฃุญูุงุก ุฏูููุฉ">ุงุณุชุดุงุฑู ุฃุญูุงุก ุฏูููุฉ</option>
                                <option value="ุงุณุชุดุงุฑู ููููุงุก ุญูููุฉ">ุงุณุชุดุงุฑู ููููุงุก ุญูููุฉ</option>
                                <option value="ุงุณุชุดุงุฑู ุนูู ุงูุฃูุฑุงุถ">ุงุณุชุดุงุฑู ุนูู ุงูุฃูุฑุงุถ</option>
                                <option value="ุทุจูุจ ูุฎุชุจุฑุงุช">ุทุจูุจ ูุฎุชุจุฑุงุช</option>
                                <option value="ุทุจูุจ ุฃูุฑุงุถ ุฏู">ุทุจูุจ ุฃูุฑุงุถ ุฏู</option>
                            </optgroup>
                            
                            <!-- ุงูุฃูุงุฏููููู ูุงูุจุงุญุซูู -->
                            <optgroup label="ุงูุฃูุงุฏููููู ูุงูุจุงุญุซูู">
                                <option value="ุจุงุญุซ">ุจุงุญุซ</option>
                                <option value="ุจุงุญุซ ุฃูู">ุจุงุญุซ ุฃูู</option>
                                <option value="ุจุงุญุซ ุฑุฆูุณู">ุจุงุญุซ ุฑุฆูุณู</option>
                                <option value="ูุฏุฑุณ">ูุฏุฑุณ</option>
                                <option value="ุฃุณุชุงุฐ ูุณุงุนุฏ">ุฃุณุชุงุฐ ูุณุงุนุฏ</option>
                                <option value="ุฃุณุชุงุฐ ูุดุงุฑู">ุฃุณุชุงุฐ ูุดุงุฑู</option>
                                <option value="ุฃุณุชุงุฐ">ุฃุณุชุงุฐ</option>
                                <option value="ูุญุงุถุฑ">ูุญุงุถุฑ</option>
                                <option value="ูุนูุฏ">ูุนูุฏ</option>
                            </optgroup>
                            
                            <!-- ูุฆุงุช ุฃุฎุฑู -->
                            <optgroup label="ูุฆุงุช ุฃุฎุฑู">
                                <option value="ุทุงูุจ ุฏุฑุงุณุงุช ุนููุง">ุทุงูุจ ุฏุฑุงุณุงุช ุนููุง</option>
                                <option value="ุทุงูุจ ุจูุงููุฑููุณ">ุทุงูุจ ุจูุงููุฑููุณ</option>
                                <option value="ูุชุฏุฑุจ">ูุชุฏุฑุจ</option>
                                <option value="ูุชูุงุนุฏ">ูุชูุงุนุฏ</option>
                                <option value="ุนุงุทู ุนู ุงูุนูู">ุนุงุทู ุนู ุงูุนูู</option>
                                <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="experience_years">ุณููุงุช ุงูุฎุจุฑุฉ <span class="required">*</span></label>
                        <select id="experience_years" name="experience_years" required>
                            <option value="">ุงุฎุชุฑ ุณููุงุช ุงูุฎุจุฑุฉ</option>
                            <option value="ุฃูู ูู ุณูุฉ">ุฃูู ูู ุณูุฉ</option>
                            <option value="1-3 ุณููุงุช">1-3 ุณููุงุช</option>
                            <option value="3-5 ุณููุงุช">3-5 ุณููุงุช</option>
                            <option value="5-10 ุณููุงุช">5-10 ุณููุงุช</option>
                            <option value="ุฃูุซุฑ ูู 10 ุณููุงุช">ุฃูุซุฑ ูู 10 ุณููุงุช</option>
                        </select>
                    </div>
                </div>

                <!-- ุจูุงูุงุช ุงูุฏุฎูู -->
                <div class="section-title">
                    ๐ ุจูุงูุงุช ุงูุฏุฎูู
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="username">ุงุณู ุงููุณุชุฎุฏู <span class="required">*</span></label>
                        <input type="text" id="username" name="username" placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู" required>
                    </div>

                    <div class="form-group">
                        <label for="password">ูููุฉ ุงููุฑูุฑ <span class="required">*</span></label>
                        <input type="password" id="password" name="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required>
                    </div>
                </div>

                <!-- ุงููุฑููุงุช -->
                <div class="section-title">
                    ๐ ุงููุฑููุงุช ุงููุทููุจุฉ
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="civil_id_front_file">ุตูุฑุฉ ุงูุจุทุงูุฉ ุงููุฏููุฉ (ุงููุฌู ุงูุฃูุงูู) <span class="required">*</span></label>
                        <input type="file" id="civil_id_front_file" name="civil_id_front_file" accept="image/*,.pdf" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG, PDF (ุญุฏ ุฃูุตู 5 ููุฌุงุจุงูุช)</small>
                    </div>

                    <div class="form-group">
                        <label for="civil_id_back_file">ุตูุฑุฉ ุงูุจุทุงูุฉ ุงููุฏููุฉ (ุงููุฌู ุงูุฎููู) <span class="required">*</span></label>
                        <input type="file" id="civil_id_back_file" name="civil_id_back_file" accept="image/*,.pdf" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG, PDF (ุญุฏ ุฃูุตู 5 ููุฌุงุจุงูุช)</small>
                    </div>

                    <div class="form-group">
                        <label for="qualification_file">ุตูุฑุฉ ุงููุคูู ุงูุนููู <span class="required">*</span></label>
                        <input type="file" id="qualification_file" name="qualification_file" accept="image/*,.pdf" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG, PDF (ุญุฏ ุฃูุตู 5 ููุฌุงุจุงูุช)</small>
                    </div>

                    <div class="form-group">
                        <label for="photo_file">ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ <span class="required">*</span></label>
                        <input type="file" id="photo_file" name="photo_file" accept="image/*" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG (ุญุฏ ุฃูุตู 3 ููุฌุงุจุงูุช)</small>
                    </div>

                    <div class="form-group">
                        <label for="criminal_record_file">ุงูุตุญููุฉ ุงูุฌูุงุฆูุฉ <span class="required">*</span></label>
                        <input type="file" id="criminal_record_file" name="criminal_record_file" accept="image/*,.pdf" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG, PDF (ุญุฏ ุฃูุตู 5 ููุฌุงุจุงูุช)</small>
                    </div>

                    <div class="form-group">
                        <label for="license_file">ุตูุฑุฉ ุชุฑุฎูุต ูุฒุงููุฉ ุงููููุฉ <span class="required">*</span></label>
                        <input type="file" id="license_file" name="license_file" accept="image/*,.pdf" required>
                        <small style="color: #6b7280; font-size: 12px;">ูููุจู: JPG, PNG, PDF (ุญุฏ ุฃูุตู 5 ููุฌุงุจุงูุช)</small>
                    </div>
                </div>

                <!-- ุงูููุงููุงุช -->
                <div class="section-title">
                    โ ุงูููุงููุงุช ูุงูุฅูุฑุงุฑุงุช
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="terms_agreement" name="terms_agreement" required>
                    <label for="terms_agreement">
                        ุฃูุงูู ุนูู <strong>ุงูุดุฑูุท ูุงูุฃุญูุงู</strong> ุงูุฎุงุตุฉ ุจุงูุฌูุนูุฉ ุงููููุชูุฉ ูููุฎุชุจุฑุงุช ุงูุทุจูุฉ <span class="required">*</span>
                    </label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="data_consent" name="data_consent" required>
                    <label for="data_consent">
                        ุฃูุงูู ุนูู <strong>ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</strong> ูููุงู ูุณูุงุณุฉ ุงูุฎุตูุตูุฉ <span class="required">*</span>
                    </label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="info_accuracy" name="info_accuracy" required>
                    <label for="info_accuracy">
                        ุฃูุฑ ุจุฃู <strong>ุฌููุน ุงููุนูููุงุช ุงูููุฏูุฉ ุตุญูุญุฉ ูุฏูููุฉ</strong> ูุฃุชุญูู ุงููุณุคูููุฉ ุงููุงููุฉ ุนู ุตุญุชูุง <span class="required">*</span>
                    </label>
                </div>

                <button type="submit" class="submit-button" id="submitButton">
                    ๐ ุชุณุฌูู ุงูุนุถููุฉ
                </button>
            </form>

            <div class="back-link">
                <a href="index.html">๐ ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBKvr6ZI_M_s_hk3Ch2ivWBuY5jSI9QxDo",
            authDomain: "kaml-membership-system.firebaseapp.com",
            projectId: "kaml-membership-system",
            storageBucket: "kaml-membership-system.firebasestorage.app",
            messagingSenderId: "1083658943439",
            appId: "1:1083658943439:web:f6a17e3bbdb6cd8feab0ba",
            measurementId: "G-ZZSZF3X7WC"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Firebase Data Manager
        class FirebaseDataManager {
            constructor() {
                this.isOnline = navigator.onLine;
                this.setupConnectionListener();
            }

            setupConnectionListener() {
                window.addEventListener('online', () => {
                    this.isOnline = true;
                    console.log('Connection restored');
                });
                
                window.addEventListener('offline', () => {
                    this.isOnline = false;
                    console.log('Connection lost');
                });
            }

            async saveData(collection, data) {
                try {
                    console.log('Saving data to Firebase:', collection, data);
                    
                    if (this.isOnline) {
                        // Save to Firebase
                        const docRef = await db.collection(collection).add(data);
                        console.log('Data saved to Firebase with ID:', docRef.id);
                        
                        // Update data with Firebase ID
                        data.firebaseId = docRef.id;
                    }
                    
                    // Always save to localStorage as backup
                    const localData = JSON.parse(localStorage.getItem(collection) || '[]');
                    localData.push(data);
                    localStorage.setItem(collection, JSON.stringify(localData));
                    console.log('Data saved to localStorage');
                    
                    return true;
                } catch (error) {
                    console.error('Error saving to Firebase:', error);
                    
                    // Fallback to localStorage only
                    const localData = JSON.parse(localStorage.getItem(collection) || '[]');
                    localData.push(data);
                    localStorage.setItem(collection, JSON.stringify(localData));
                    console.log('Data saved to localStorage (fallback)');
                    
                    return false;
                }
            }
        }

        // Initialize Firebase Data Manager
        const firebaseManager = new FirebaseDataManager();

        // ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
        function validateEmail(email) {
            const registeredEmails = JSON.parse(localStorage.getItem('registeredEmails') || '[]');
            return !registeredEmails.includes(email.toLowerCase());
        }

        // ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃุซูุงุก ุงููุชุงุจุฉ
        document.getElementById('email').addEventListener('input', function(e) {
            const email = e.target.value.toLowerCase();
            const validation = document.getElementById('emailValidation');
            
            if (email && !validateEmail(email)) {
                validation.style.display = 'block';
                validation.style.color = '#dc3545';
                validation.innerHTML = 'โ ูุฐุง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ูุณุจูุงู';
            } else if (email) {
                validation.style.display = 'block';
                validation.style.color = '#28a745';
                validation.innerHTML = 'โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุชุงุญ';
            } else {
                validation.style.display = 'none';
            }
        });

        // ูุนุงูุฌุฉ ุฅุฑุณุงู ุงููููุฐุฌ
        document.getElementById('membershipForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const form = e.target;
            const submitButton = document.getElementById('submitButton');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // ุฅุฎูุงุก ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
            const email = document.getElementById('email').value.toLowerCase();
            const civilId = document.getElementById('civil_id').value;
            const phone = document.getElementById('phone').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
            if (!validateEmail(email)) {
                errorMessage.innerHTML = 'โ ูุฐุง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ูุณุจูุงู. ูุฑุฌู ุงุณุชุฎุฏุงู ุจุฑูุฏ ุฅููุชุฑููู ุขุฎุฑ.';
                errorMessage.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            
            // ุงูุชุญูู ูู ุงูุฑูู ุงููุฏูู
            if (civilId.length !== 12 || !/^\d{12}$/.test(civilId)) {
                errorMessage.innerHTML = 'โ ูุฌุจ ุฃู ูููู ุงูุฑูู ุงููุฏูู ููููุงู ูู 12 ุฑููุงู ููุท.';
                errorMessage.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            
            // ุงูุชุญูู ูู ุฑูู ุงููุงุชู
            if (phone.length !== 8 || !/^\d{8}$/.test(phone)) {
                errorMessage.innerHTML = 'โ ูุฌุจ ุฃู ูููู ุฑูู ุงููุงุชู ููููุงู ูู 8 ุฃุฑูุงู ููุท.';
                errorMessage.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            
            // ุนุฑุถ ูุคุดุฑ ุงูุชุญููู
            submitButton.disabled = true;
            submitButton.innerHTML = 'โณ ุฌุงุฑู ุงูุชุณุฌูู...';
            loadingSpinner.style.display = 'block';
            
            try {
                // ูุนุงูุฌุฉ ุงููููุงุช ุงููุฑููุฉ
                const attachments = {};
                const fileInputs = ['civil_id_file', 'qualification_file', 'experience_file', 'photo_file'];
                
                for (const inputId of fileInputs) {
                    const fileInput = document.getElementById(inputId);
                    if (fileInput.files.length > 0) {
                        const file = fileInput.files[0];
                        
                        // ุชุญููู ุงูููู ุฅูู Base64
                        const base64 = await new Promise((resolve, reject) => {
                            const reader = new FileReader();
                            reader.onload = () => resolve(reader.result);
                            reader.onerror = reject;
                            reader.readAsDataURL(file);
                        });
                        
                        attachments[inputId] = {
                            name: file.name,
                            size: file.size,
                            type: file.type,
                            data: base64
                        };
                    }
                }
                
                // ุฌูุน ุจูุงูุงุช ุงููููุฐุฌ
                const memberData = {
                    id: Date.now(),
                    applicationId: 'APP-' + Date.now(),
                    
                    // ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
                    first_name_ar: document.getElementById('first_name_ar').value,
                    middle_name_ar: document.getElementById('middle_name_ar').value,
                    last_name_ar: document.getElementById('last_name_ar').value,
                    first_name_en: document.getElementById('first_name_en').value,
                    middle_name_en: document.getElementById('middle_name_en').value,
                    last_name_en: document.getElementById('last_name_en').value,
                    nationality: document.getElementById('nationality').value,
                    civil_id: civilId,
                    birth_date: document.getElementById('birth_date').value,
                    gender: document.getElementById('gender').value,
                    
                    // ูุนูููุงุช ุงูุงุชุตุงู
                    email: email,
                    phone: phone,
                    address: document.getElementById('address').value,
                    
                    // ุงููุคููุงุช ุงูููููุฉ
                    qualification: document.getElementById('qualification').value,
                    specialization: document.getElementById('specialization').value,
                    workplace: document.getElementById('workplace').value,
                    job_title: document.getElementById('job_title').value,
                    experience_years: document.getElementById('experience_years').value,
                    
                    // ุจูุงูุงุช ุงูุฏุฎูู
                    username: username,
                    password: password,
                    
                    // ุงูููุงููุงุช
                    terms_agreement: document.getElementById('terms_agreement').checked,
                    data_consent: document.getElementById('data_consent').checked,
                    info_accuracy: document.getElementById('info_accuracy').checked,
                    
                    // ุงููุฑููุงุช
                    attachments: attachments,
                    
                    // ูุนูููุงุช ุงูุทูุจ
                    status: 'pending',
                    submission_date: new Date().toISOString(),
                    created_at: new Date().toISOString()
                };
                
                // ุญูุธ ุงูุจูุงูุงุช ูู Firebase
                const saveSuccess = await firebaseManager.saveData('membershipApplications', memberData);
                
                // ุฅุถุงูุฉ ุงูุจุฑูุฏ ูููุงุฆูุฉ ุงููุณุฌูุฉ
                const registeredEmails = JSON.parse(localStorage.getItem('registeredEmails') || '[]');
                registeredEmails.push(email);
                localStorage.setItem('registeredEmails', JSON.stringify(registeredEmails));
                
                // ุนุฑุถ ุฑุณุงูุฉ ุงููุฌุงุญ
                setTimeout(() => {
                    loadingSpinner.style.display = 'none';
                    
                    successMessage.innerHTML = `
                        <div style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); text-align: center; max-width: 500px; margin: 0 auto;">
                            <div style="color: #059669; font-size: 48px; margin-bottom: 20px;">โ</div>
                            <h3 style="color: #059669; margin-bottom: 20px;">ุชู ุชุณุฌูู ุงูุนุถููุฉ ุจูุฌุงุญ!</h3>
                            <div style="background: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #0369a1;">
                                <h4 style="color: #0369a1; margin-bottom: 15px;">ุจูุงูุงุช ุงูุฏุฎูู:</h4>
                                <p style="margin: 8px 0;"><strong>ุงุณู ุงููุณุชุฎุฏู:</strong> ${username}</p>
                                <p style="margin: 8px 0;"><strong>ูููุฉ ุงููุฑูุฑ:</strong> ${password}</p>
                                <p style="color: #0369a1; font-weight: bold;">ุงุญูุธ ูุฐู ุงูุจูุงูุงุช ููุฏุฎูู ูุงุญูุงู</p>
                            </div>
                            <p style="color: #dc2626; font-weight: bold;">ุทูุจู ููุฏ ุงููุฑุงุฌุนุฉ ูู ูุจู ุงูุฅุฏุงุฑุฉ</p>
                            <p>ุชู ุฑูุน ุฌููุน ุงููุฑููุงุช ุงููุทููุจุฉ ุจูุฌุงุญ</p>
                            <p style="color: #059669; font-weight: bold;">ุชู ุญูุธ ุงูุจูุงูุงุช ูู ุงูุณุญุงุจุฉ ${saveSuccess ? 'โ' : 'โ๏ธ (ูุญููุงู)'}</p>
                            <a href="member-login.html" style="display: inline-block; background: #059669; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin-top: 15px;">ุฏุฎูู ุงูุนุถู</a>
                        </div>
                    `;
                    successMessage.style.display = 'block';
                    
                    // ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ
                    form.reset();
                    document.getElementById('emailValidation').style.display = 'none';
                    
                    // ุงูุชูุฑูุฑ ุฅูู ุฃุนูู ุงูุตูุญุฉ
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // ุฅุนุงุฏุฉ ุชูุนูู ุงูุฒุฑ
                    submitButton.disabled = false;
                    submitButton.innerHTML = '๐ ุชุณุฌูู ุงูุนุถููุฉ';
                    
                }, 2000);
                
            } catch (error) {
                console.error('Error during registration:', error);
                
                loadingSpinner.style.display = 'none';
                errorMessage.innerHTML = `โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชุณุฌูู: ${error.message}`;
                errorMessage.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // ุฅุนุงุฏุฉ ุชูุนูู ุงูุฒุฑ
                submitButton.disabled = false;
                submitButton.innerHTML = '๐ ุชุณุฌูู ุงูุนุถููุฉ';
            }
        });

        // ุงูุชุญูู ูู ุฑูู ุงููุงุชู ุฃุซูุงุก ุงููุชุงุจุฉ
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9]/g, '');
            if (value.length > 8) {
                value = value.slice(0, 8);
            }
            e.target.value = value;
        });

        // ุงูุชุญูู ูู ุงูุฑูู ุงููุฏูู ุฃุซูุงุก ุงููุชุงุจุฉ
        document.getElementById('civil_id').addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9]/g, '');
            if (value.length > 12) {
                value = value.slice(0, 12);
            }
            e.target.value = value;
        });

        console.log('Registration form initialized with Firebase support');
    </script>
</body>
</html>

